__NUXT_JSONP__("/blog/a-novel-writing-order-recovery-approach-for-handwriting-specimens", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X){return {data:[{article:{slug:H,description:"A pattern-recognition based approach for recovering the writing order trajectory of a signature is shown.",title:"\u003Cspan\u003EA novel \u003Cstrong\u003EWriting Order Recovery\u003C\u002Fstrong\u003E approach for handwriting specimens\u003C\u002Fspan\u003E",author:"Gioele Crispo",img:I,alt:"wor-talk",tags:["pattern-recognition"],createdAt:"2019-03-16T12:15:20.516Z",toc:[{id:J,depth:s,text:w},{id:K,depth:s,text:L},{id:M,depth:s,text:x},{id:N,depth:y,text:z},{id:O,depth:y,text:u},{id:P,depth:y,text:Q},{id:v,depth:s,text:A},{id:R,depth:s,text:B}],body:{type:"root",children:[{type:b,tag:"h1",props:{id:H},children:[{type:b,tag:f,props:{ariaHidden:j,href:"#a-novel-writing-order-recovery-approach-for-handwriting-specimens",tabIndex:k},children:[{type:b,tag:g,props:{className:[l,m]},children:[]}]},{type:a,value:"A novel Writing Order Recovery approach for handwriting specimens"}]},{type:a,value:c},{type:b,tag:h,props:{},children:[]},{type:a,value:c},{type:b,tag:S,props:{},children:[{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:w}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:"Why "},{type:b,tag:e,props:{},children:[{type:a,value:"writing order recovery"}]},{type:a,value:"?"}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:x}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:A}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:B}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:h,props:{},children:[]},{type:a,value:c},{type:b,tag:t,props:{id:J},children:[{type:b,tag:f,props:{ariaHidden:j,href:"#introduction",tabIndex:k},children:[{type:b,tag:g,props:{className:[l,m]},children:[]}]},{type:a,value:w}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"This post summarizes the work and ideas behind my thesis work, which became a publication at the "},{type:b,tag:e,props:{},children:[{type:a,value:"16th\nInternational Conference on Frontiers in Handwriting Recognition"}]},{type:a,value:" (ICFHR) at "},{type:b,tag:n,props:{},children:[{type:a,value:"Niagara Falls"}]},{type:a,value:", USA, in August 2018\n("},{type:b,tag:f,props:{href:T},children:[{type:a,value:"see here"}]},{type:a,value:"),\nand another journal article is in the works."}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"The following "},{type:b,tag:f,props:{href:"https:\u002F\u002Fwww.youtube.com\u002Fwatch?v=BYJawbV0Y2k&t=58s"},children:[{type:a,value:"video"}]},{type:a,value:" shows the results of my work."}]},{type:a,value:c},{type:b,tag:o,props:{style:"text-align:center; width: 100%"},children:[{type:a,value:c},{type:b,tag:"iframe",props:{style:"max-width:650px; height:auto;",src:"https:\u002F\u002Fwww.youtube.com\u002Fembed\u002FBYJawbV0Y2k",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:true},children:[{type:a,value:c}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:b,tag:h,props:{},children:[]},{type:b,tag:h,props:{},children:[]}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:t,props:{id:K},children:[{type:b,tag:f,props:{ariaHidden:j,href:"#why-writing-order-recovery",tabIndex:k},children:[{type:b,tag:g,props:{className:[l,m]},children:[]}]},{type:a,value:L}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Before clarifying what Writing Order Recovery is, let's give some context."}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"In the area of ​digital signature verification, there is the problem of evaluating the authenticity\nof a writer based on the writing. Now, if the signature is digitally acquired ("},{type:b,tag:e,props:{},children:[{type:a,value:"online writing"}]},{type:a,value:"),\nwe have access to a lot of information, as it is possible to record all the movements that the writer makes.\nIf the signature has been acquired analogically ("},{type:b,tag:e,props:{},children:[{type:a,value:"offline writing"}]},{type:a,value:"), i.e. on paper using a pen, the task becomes\nextremely difficult. Nowadays, most signatures are still done without digital devices."}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Techniques have therefore been born that allow us to infer the writing dynamics\nthrough pattern recognition and machine learning algorithms. By «"},{type:b,tag:n,props:{},children:[{type:a,value:"writing dynamics"}]},{type:a,value:"» we mean all information\nrelated to speed, pressure, writing tracing order, etc.\nAll this information is essential to carry out a more accurate signature verification and at the same time the technique\ncan be used in other fields such as handwriting recognition and so on."}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"In the "},{type:b,tag:f,props:{href:U},children:[{type:a,value:"article"}]},{type:a,value:",\nthe authors (Moises Diaz, Miguel A. Ferrer, Antonio Parziale and Angelo Marcelli) proposed a framework for\nobtaining the dynamics of a handwriting stroke starting from a static image.\nThe "},{type:b,tag:e,props:{},children:[{type:a,value:"Writing Order Recovery (WOR)"}]},{type:a,value:" is positioned as the second step of this framework and its goal is to infer the\nwriting order. Among all, the writing order is the most informative and preparatory element for estimating\nthe other dynamic components such as speed and acceleration. I have decided to concentrate on this delicate\nstep and reapproach the problem by providing a new point of view and a new way of solving it\n("},{type:b,tag:f,props:{href:"https:\u002F\u002Fgithub.com\u002Fgioelecrispo\u002Fwor"},children:[{type:a,value:"here the code"}]},{type:a,value:")."}]},{type:a,value:c},{type:b,tag:t,props:{id:M},children:[{type:b,tag:f,props:{ariaHidden:j,href:"#the-idea",tabIndex:k},children:[{type:b,tag:g,props:{className:[l,m]},children:[]}]},{type:a,value:x}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"As expressed by the framework mentioned above, the first step for Writing Order Recovery is to perform a\nthinning on the image, in order to have a track composed of only one pixel. In fact, the image acquired with\nthe pen is a dirty, double trace, and reconstructing the writing order is more difficult."}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"The class of algorithms used to produce this thin trace is called "},{type:b,tag:e,props:{},children:[{type:a,value:V}]},{type:a,value:C}]},{type:a,value:c},{type:b,tag:o,props:{style:p},children:[{type:a,value:c},{type:b,tag:q,props:{src:"https:\u002F\u002Fi.ibb.co\u002Fy4t7B1z\u002Fskeletonization.png",alt:V,width:D},children:[]},{type:a,value:" \n"},{type:b,tag:d,props:{},children:[{type:b,tag:g,props:{style:r},children:[{type:a,value:"Fig.1. Comparison between the the Real Image (a), the binary one (b) and the skeletonized one (c). Image from "},{type:b,tag:f,props:{href:U},children:[{type:b,tag:"i",props:{},children:[{type:a,value:"\nRecovering Western On-line Signatures FromImage-Based Specimens"}]}]}]}]},{type:a,value:c},{type:b,tag:h,props:{},children:[]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"What I noticed right away is that, whatever the method used, skeletonization produces artifacts and non-existent lines that\nbreak down the performance of the algorithms of the subsequent steps. This observation is almost "},{type:b,tag:n,props:{},children:[{type:a,value:"trivial"}]},{type:a,value:":\nsince no information on dynamics is available, even for skeletonization it is difficult to produce quality results.\nFor this reason, I decided to apply the ideal skeletonization, the best possible, obtainable through the "},{type:b,tag:e,props:{},children:[{type:a,value:"Bresenham\nalgorithm"}]},{type:a,value:".\nThis algorithm produces a thin track by exploiting the dynamics with which it was performed. It is the perfect\nbasis for developing a good Writing Order Recovery algorithm."}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Let's enter in the interesting part.\nThe Writing Order Recovery algorithm I proposed consists of 3 parts:"}]},{type:a,value:c},{type:b,tag:E,props:{},children:[{type:a,value:c},{type:b,tag:i,props:{},children:[{type:b,tag:e,props:{},children:[{type:a,value:"Point classification"}]}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:b,tag:e,props:{},children:[{type:a,value:u}]}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:b,tag:e,props:{},children:[{type:a,value:W}]},{type:a,value:C}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:h,props:{},children:[]},{type:a,value:c},{type:b,tag:o,props:{style:p},children:[{type:a,value:c},{type:b,tag:q,props:{src:"https:\u002F\u002Fi.ibb.co\u002FSmPySCQ\u002Falgorithm.png",alt:F,width:"70%"},children:[]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:b,tag:g,props:{style:r},children:[{type:a,value:"Fig. 2. Phases of which the algorithm is composed."}]}]},{type:a,value:c},{type:b,tag:h,props:{},children:[]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:G,props:{id:N},children:[{type:b,tag:f,props:{ariaHidden:j,href:"#point-classification",tabIndex:k},children:[{type:b,tag:g,props:{className:[l,m]},children:[]}]},{type:a,value:z}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:X},{type:b,tag:e,props:{},children:[{type:a,value:z}]},{type:a,value:" phase deals with analyzing the thinned signature pixel by pixel.\nPixels are classified according to their neighbors: if a pixel has only one other neighbor pixel it is considered\nan "},{type:b,tag:n,props:{},children:[{type:a,value:"end point"}]},{type:a,value:"; if a pixel has two neighbors it is considered a "},{type:b,tag:n,props:{},children:[{type:a,value:"trace point"}]},{type:a,value:" and if it has 3 or more it is\ndefined as a "},{type:b,tag:n,props:{},children:[{type:a,value:"branch point"}]},{type:a,value:". Agglomerations of branch points form a cluster of points.\nThe innovation is here: clusters are the \"hard part\" and this is where I have concentrated my efforts."}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"In the literature we rarely speak of \"agglomerated points\". This is because we usually work on imperfect\nskeletonization algorithms, which never produce lines thicker than 1 pixel, in order to simplify the work of\nwriting order recognition: however, there is a huge loss of information."}]},{type:a,value:c},{type:b,tag:o,props:{style:p},children:[{type:a,value:c},{type:b,tag:q,props:{src:"https:\u002F\u002Fi.imgur.com\u002F0nTtvW8.png",alt:F,width:"65%"},children:[]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:b,tag:g,props:{style:r},children:[{type:a,value:"Fig. 3. Point classification. It depends on the number of neighboring pixels for each pixel."}]}]},{type:a,value:c},{type:b,tag:h,props:{},children:[]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:G,props:{id:O},children:[{type:b,tag:f,props:{ariaHidden:j,href:"#local-examination",tabIndex:k},children:[{type:b,tag:g,props:{className:[l,m]},children:[]}]},{type:a,value:u}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:X},{type:b,tag:e,props:{},children:[{type:a,value:u}]},{type:a,value:" phase focuses on the analysis of branch point clusters. Among them there are some\nparticular points:\nthose in contact with a trace point are called "},{type:b,tag:n,props:{},children:[{type:a,value:"anchor branch points"}]},{type:a,value:" and overlook an outgoing branch from the\ncluster (see the Fig. 4). Indeed, a cluster can be seen as the intersection point of multiple lines.\nThe goal is therefore to\nunderstand how to match the outgoing cluster branches and correctly reconstruct the paths that the writer's\npen has performed."}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"To understand how to couple these output branches, we calculate the internal angles of the cluster, the\nexternal angles, we perform a prediction of their direction through multiscale analysis algorithms and\nfinally we calculate the matching through pattern-recognition algorithms. To make the article streamlined and easier\nto follow, I leave out the details you find in the paper "},{type:b,tag:f,props:{href:T},children:[{type:a,value:"at this link"}]},{type:a,value:C}]},{type:a,value:c},{type:b,tag:o,props:{style:p},children:[{type:a,value:c},{type:b,tag:q,props:{src:"https:\u002F\u002Fi.imgur.com\u002FU2hzrMG.png",alt:F,width:"75%"},children:[]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:b,tag:g,props:{style:r},children:[{type:a,value:"Fig. 4. Cluster analysis. In this phase we search for anchor branch points and we compute the angles to find the\ncluster output branches associations."}]}]},{type:a,value:c},{type:b,tag:h,props:{},children:[]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Once we have rebuilt a cluster, i.e. associated its exit branches, we know how a track enters and exits\nthe cluster. So we can reconstruct the signature."}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"However, a writer can make several strokes, lifting the pen from the sheet multiple times.\nAnother task of writing order recovery is to correctly identify the so-called "},{type:b,tag:n,props:{},children:[{type:a,value:"components"}]},{type:a,value:". A "},{type:b,tag:e,props:{},children:[{type:a,value:"component"}]},{type:a,value:" is\ntherefore a stroke of writing performed without ever lifting the pen from the sheet. Identifying them is not easy.\nIn general, we use end points, i.e. those points that have only one neighbor, so it is reasonable to think that\nthe stroke started from there.\nAnyway, this approach is not enough; with the information obtained from the clusters we can better infer when\na writer stops his pen or when he continues."}]},{type:a,value:c},{type:b,tag:G,props:{id:P},children:[{type:b,tag:f,props:{ariaHidden:j,href:"#global-reconstruction",tabIndex:k},children:[{type:b,tag:g,props:{className:[l,m]},children:[]}]},{type:a,value:Q}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Once the cluster have been rebuilt and the components have been individuated, we can proceed with the\n"},{type:b,tag:e,props:{},children:[{type:a,value:W}]},{type:a,value:" of the signature.\nThis means trying to infer the writing direction of each single component (for example from left to right or\ntop to bottom, etc) and the order of the components, then understand in which order they were traced by the writer."}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"This is by no means a simple task. Without information about the current signature, we can only guess using\nheuristics or predictive algorithms trained on other data. However, every writer has their own writing method,\nso there is no 100% reliable solution.\nThe heuristics I used were basically two:"}]},{type:a,value:c},{type:b,tag:E,props:{},children:[{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:"for the first component, start from the top left corner, assuming that most writers write from left to right;"}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:"for the following components, choose the closest one according to the Euclidean distance."}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:h,props:{},children:[]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Below, an image that clarify what are the components (indicated by different color) for each signature and\nhow they were traced by our algorithm (shown by the arrows)."}]},{type:a,value:c},{type:b,tag:o,props:{style:p},children:[{type:a,value:c},{type:b,tag:q,props:{src:"https:\u002F\u002Fi.imgur.com\u002Fu7pvRp4.png",alt:v,width:D},children:[]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:b,tag:g,props:{style:r},children:[{type:a,value:"Fig. 5. Global reconstruction. We find all the components\n(indicated by different colors) in the signature and then we trace them."}]}]},{type:a,value:c},{type:b,tag:h,props:{},children:[]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:t,props:{id:v},children:[{type:b,tag:f,props:{ariaHidden:j,href:"#results",tabIndex:k},children:[{type:b,tag:g,props:{className:[l,m]},children:[]}]},{type:a,value:A}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"The method proposed above was performed on two datasets, SUSIG-Visual and SigComp2009,\ndemonstrating the independence of the algorithm from the dataset and from the writing method of each writer."}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"To evaluate the goodness of the method, we used the classic sequence comparison metrics:\nSignal-to-Noise Ratio (SNR), Dynamic Time Warping (DTW) and Root Mean Square Error (RMSE),\nto evaluate our reconstruction with respect to the real signature. In the following table, and we compare ouu method\nwith other methods present in the literature."}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Finally we proposed a new metric for clusters, the heart of our work, by defining the accuracy of the reconstructed\nclusters as the ratio of correctly reconstructed clusters to the number of all clusters. We talk about\nCluster Rebuilding Percentage (CRP).\nA correctly rebuilt cluster is a cluster for which all branches outgoing from it have been successfully\npaired (i.e. traversed in the direction in which the writer traced them)."}]},{type:a,value:c},{type:b,tag:o,props:{style:p},children:[{type:a,value:c},{type:b,tag:q,props:{src:"https:\u002F\u002Fi.ibb.co\u002FzXxrb44\u002Fwor-result0.png",alt:v,width:D},children:[]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:b,tag:g,props:{style:r},children:[{type:a,value:"Table. 1. Comparison with other methods. We have added also the CPR measure since\nthe core of our work is the cluster analysis."}]}]},{type:a,value:c},{type:b,tag:h,props:{},children:[]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Experimentally, we have noticed that some signatures are more "},{type:b,tag:e,props:{},children:[{type:a,value:"difficult"}]},{type:a,value:" than others.\nThis is mainly due to the fact that the writer could cross a line several times, making overlaps.\nWe therefore deemed it necessary to divide the dataset into three complexity classes (low, medium, high)\nand evaluate the results separately. We have defined complexity as a parameter that depends on the number of\nclusters and components in the signature: the more clusters and components there are in the signature,\nthe more difficult it is."}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"The good results obtained show that:"}]},{type:a,value:c},{type:b,tag:S,props:{},children:[{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"using an ideal skeletonization helps a lot, since there is no loss of information and a more in-depth analysis on\nthe signature can be conducted;"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"clusters of branch points give a lot of information on how a signature has been traced, allowing to correctly infer\nthe tracing direction. We have seen that the more clusters are reconstructed correctly the more likely the signature\nis reconstructed correctly, so they are a key point for the writing order recovery task."}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"easy signatures, with few clusters and components, are almost always reconstructed in the right way."}]},{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:h,props:{},children:[]},{type:a,value:c},{type:b,tag:t,props:{id:R},children:[{type:b,tag:f,props:{ariaHidden:j,href:"#conclusions",tabIndex:k},children:[{type:b,tag:g,props:{className:[l,m]},children:[]}]},{type:a,value:B}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"This work proposes a new approach based on pattern recognition for the execution of Writing Order Recovery,\nhighlighting through the good results obtained that:"}]},{type:a,value:c},{type:b,tag:E,props:{},children:[{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:b,tag:e,props:{},children:[{type:a,value:"the skeletonization phase must be greatly improved"}]},{type:a,value:" to allow the subsequent phases to work on good quality data;"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:b,tag:e,props:{},children:[{type:a,value:"a good point and trace analysis performed locally may be sufficient"}]},{type:a,value:" to estimate the writing order, without\nresorting to computationally expensive algorithms that operate globally. "},{type:b,tag:h,props:{},children:[]},{type:b,tag:h,props:{},children:[]}]},{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"In fact, the proposed algorithm works locally, compared to many algorithms, proposed in the literature, which\nwork considering the image as a whole. The latter, besides being more complicated and expensive, are also less\nreusable for different types of writing (for example oriental writing, Arabic writing, numbers)."}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"The algorithm has several margins for improvement: in addition to refining the pattern detection metrics, it\ncould use other Machine Learning techniques such as the Kalman filter or more complex tracking clueing techniques\nto estimate the correct exit direction of a cluster."}]}]},dir:"\u002Fblog",path:"\u002Fblog\u002Fa-novel-writing-order-recovery-approach-for-handwriting-specimens",extension:".md",updatedAt:"2022-03-25T14:32:04.264Z"}}],fetch:{},mutations:[["AppState\u002FsetAppToolbarImage",I]]}}("text","element","\n","p","strong","a","span","br","li","true",-1,"icon","icon-link","em","div","text-align:center","img","font-size: 12px;",2,"h2","Local Examination","results","Introduction","The idea",3,"Point Classification","Results","Conclusions",".","100%","ol","algorithm","h3","a-novel-writing-order-recovery-approach-for-handwriting-specimens","a-novel-writing-order-recovery-approach-for-handwriting-specimens.png","introduction","why-writing-order-recovery","Why Writing Order Recovery?","the-idea","point-classification","local-examination","global-reconstruction","Global reconstruction","conclusions","ul","https:\u002F\u002Fwww.researchgate.net\u002Fpublication\u002F327405064_Tracking_the_Ballistic_Trajectory_in_Complex_and_Long_Handwritten_Signatures","https:\u002F\u002Fwww.researchgate.net\u002Fpublication\u002F319443706_Recovering_Western_On-line_Signatures_From_Image-Based_Specimens","skeletonization","Global Reconstruction","The ")));